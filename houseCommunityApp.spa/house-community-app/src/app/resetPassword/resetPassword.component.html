<div class="container-fluid form">
    <div class="center">
        <div *ngIf="CurrentState=='Verified'">
            <div class="login-header">
                <p>Ustaw nowe hasło</p>
                <i class="fa fa-users"></i>
            </div>

            <mat-form-field appearance="fill">
                <mat-label>Nowe hasło</mat-label>
                <input matInput [type]="hideNewPassword ? 'password' : 'text'" autocomplete="new-password"
                    [formControl]="changePasswordForm.controls.newPassword" (input)="onPasswordInput()">

                <button mat-icon-button matSuffix (click)="hideNewPassword = !hideNewPassword"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideNewPassword">
                    <mat-icon>{{hideNewPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="changePasswordForm.controls.newPassword.hasError('required')">Podaj nowe hasło
                </mat-error>
                <mat-error *ngIf="changePasswordForm.controls.newPassword.hasError('minlength')">Hasło jest za krótkie
                </mat-error>
                <mat-error
                    *ngIf="changePasswordForm.controls.newPassword.invalid && !changePasswordForm.controls.newPassword.hasError('required') && !changePasswordForm.controls.newPassword.hasError('minlength')">
                    Hasła nie są identyczne!</mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill">
                <mat-label>Potwierdź hasło</mat-label>
                <input matInput [type]="hideConfirmPassword ? 'password' : 'text'" autocomplete="new-password"
                    [formControl]="changePasswordForm.controls.confirmPassword" (input)="onPasswordInput()">
                <button mat-icon-button matSuffix (click)="hideConfirmPassword = !hideConfirmPassword"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hideConfirmPassword">
                    <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                <mat-error *ngIf="changePasswordForm.controls.confirmPassword.hasError('required')">Potwierdź nowe hasło
                </mat-error>
                <mat-error *ngIf="changePasswordForm.controls.confirmPassword.hasError('minlength')">Hasło jest za
                    krótkie
                </mat-error>
                <mat-error
                    *ngIf="changePasswordForm.controls.confirmPassword.invalid && !changePasswordForm.controls.confirmPassword.hasError('required') && !changePasswordForm.controls.confirmPassword.hasError('minlength')">
                    Hasła nie są identyczne!</mat-error>
            </mat-form-field>

            <div>
                <button [disabled]='isPasswordReset' mat-button class="login-button" (click)="ResetPassword()">Ustaw nowe hasło</button>
            </div>
        </div>
        <div *ngIf="CurrentState!='Verified'">
            <div class="login-header">
                <p>Link do strony wygasł!</p>
                <i class="fa fa-users"></i>
            </div>
        </div>
    </div>
</div>